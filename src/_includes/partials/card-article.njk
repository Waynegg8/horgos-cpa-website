{# src/_includes/partials/card-article.njk #}
{#
  文章卡片佈局。
  接收一個 `item` 變數，它應該是 Eleventy 文章集合中的一個文章物件。
  將自動選擇的縮圖與文章標題、日期、摘要連結起來。
  符合藍圖的卡片視覺設計。
#}
<div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 overflow-hidden flex flex-col h-full">
  {% if item.thumbnail_image and item.thumbnail_image.path %}
    <a href="/article/{{ item.slug }}/" class="block flex-shrink-0">
      {# 使用 Eleventy Image shortcode 處理縮圖，確保響應式和優化 #}
      {% image item.thumbnail_image.path, item.thumbnail_image.alt_text or item.title, [400, 800], "100vw", "lazy", "async", "w-full h-48 object-cover" %}
    </a>
  {% endif %}
  <div class="p-6 flex flex-col flex-grow">
    <h3 class="text-xl font-heading font-bold text-brand-blue-700 mb-2 flex-shrink-0">
      <a href="/article/{{ item.slug }}/" class="hover:underline">{{ item.title }}</a>
    </h3>
    <p class="text-gray-600 text-sm mb-3 flex-shrink-0">
      <time datetime="{{ item.date }}">{{ item.date | formatDate }}</time>
    </p>
    <p class="text-gray-700 text-base leading-relaxed line-clamp-3 mb-4 flex-grow">
      {{ item.excerpt }}
    </p>
    <div class="mt-auto flex-shrink-0"> {# 將 CTA 按鈕推到底部 #}
      <a href="/article/{{ item.slug }}/" class="inline-flex items-center text-brand-blue-600 hover:text-brand-blue-800 font-semibold transition-colors duration-200">
        閱讀更多
        <span class="material-icons ml-1 text-lg">arrow_forward</span>
      </a>
    </div>
  </div>
</div>