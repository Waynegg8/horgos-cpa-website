{# src/_includes/partials/pagination.njk #}
{#
  分頁控制的 HTML 結構。
  這個 Partial 作為 search.js 或 Eleventy 內建分頁的渲染容器。
  當 search.js 控制時，它會將按鈕動態插入到 id="pagination-container" 中。
  當 Eleventy 內建分頁時，它將接收 collection.pagination 物件。
#}

{# 這裡提供一個通用的分頁容器，search.js 會將其內容渲染進去 #}
<div id="pagination-container" class="mt-8">
  {# 分頁按鈕將由 JavaScript (search.js) 或 Eleventy 內建分頁邏輯動態填充 #}
  {# 範例 Eleventy 內建分頁使用方式 (如果您的頁面是通過 Eleventy 分頁): #}
  {% if pagination %}
    <nav class="flex justify-center items-center space-x-2">
      {# 上一頁按鈕 #}
      {% if pagination.href.previous %}
        <a href="{{ pagination.href.previous }}" class="pagination-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors duration-200">
          <span class="material-icons">chevron_left</span>
        </a>
      {% else %}
        <button class="pagination-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-lg opacity-50 cursor-not-allowed" disabled>
          <span class="material-icons">chevron_left</span>
        </button>
      {% endif %}

      {# 頁碼 #}
      {% for pageEntry in pagination.pages %}
        <a href="{{ pagination.hrefs[loop.index0] }}"
           class="pagination-btn py-2 px-4 rounded-lg transition-colors duration-200
           {% if page.url == pagination.hrefs[loop.index0] %}bg-brand-blue-700 text-white{% else %}bg-gray-200 text-gray-700 hover:bg-gray-300{% endif %}">
          {{ loop.index }}
        </a>
      {% endfor %}

      {# 下一頁按鈕 #}
      {% if pagination.href.next %}
        <a href="{{ pagination.href.next }}" class="pagination-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors duration-200">
          <span class="material-icons">chevron_right</span>
        </a>
      {% else %}
        <button class="pagination-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-lg opacity-50 cursor-not-allowed" disabled>
          <span class="material-icons">chevron_right</span>
        </button>
      {% endif %}
    </nav>
  {% endif %}
</div>