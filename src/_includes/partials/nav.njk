{# src/_includes/partials/nav.njk #}
{#
  網站導航欄。
  包含 Logo、主導航連結、行動版選單按鈕。
  行動版選單的行為由 src/assets/js/mobile-menu.js 控制。
#}
<header class="bg-white shadow-md py-4 sticky top-0 z-40">
  <div class="container mx-auto px-4 flex justify-between items-center">
    {# Logo 區塊 #}
    <div class="flex-shrink-0">
      <a href="/" class="block" aria-label="回首頁 - 霍爾果斯會計師事務所">
        {% if site.logoPath %}
          {# 使用 Eleventy Image shortcode 處理 Logo 圖片，確保響應式和優化 #}
          {% image site.logoPath, site.name + " Logo", [100, 200], "100px", "eager", "async", "h-10 md:h-12 w-auto" %}
        {% else %}
          <span class="text-brand-blue-700 text-2xl md:text-3xl font-heading font-extrabold">{{ site.name }}</span>
        {% endif %}
      </a>
    </div>

    {# 主導航 (桌面版) #}
    <nav class="hidden lg:block">
      <ul class="flex space-x-8">
        {% for item in site.navigation %}
          <li>
            <a href="{{ item.url }}" class="text-gray-700 hover:text-brand-blue-700 font-semibold text-lg transition-colors duration-200
              {% if page.url == item.url %}text-brand-blue-700{% endif %}">
              {{ item.text }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </nav>

    {# 行動版選單按鈕 (漢堡選單) #}
    <div class="lg:hidden">
      <button id="mobile-menu-button" aria-label="開啟行動版選單" class="text-brand-blue-700 hover:text-brand-blue-900 focus:outline-none focus:ring-2 focus:ring-brand-blue-500 rounded-md p-2">
        <span class="material-icons text-3xl" id="menu-icon">menu</span>
      </button>
    </div>
  </div>

  {# 行動版選單內容 (預設隱藏，由 JS 控制顯示) #}
  <div id="mobile-menu" class="hidden lg:hidden bg-white py-4 shadow-inner">
    <ul class="flex flex-col space-y-4 px-4">
      {% for item in site.navigation %}
        <li>
          <a href="{{ item.url }}" class="block text-gray-700 hover:text-brand-blue-700 font-semibold text-xl py-2
            {% if page.url == item.url %}text-brand-blue-700{% endif %}">
            {{ item.text }}
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
</header>