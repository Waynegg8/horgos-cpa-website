{{- define "main" -}}
<div class="article-layout">
    <article class="article-content">
        <header class="article-header">
            {{- if .Params.category -}}
            <span class="article-category">{{ .Params.category }}</span>
            {{- end -}}
            <h1 class="article-title">{{ .Title }}</h1>
            <div class="article-meta">
                <time datetime="{{ .Date.Format "2006-01-02" }}">
                    {{ .Date.Format "2006年01月02日" }}
                </time>
                {{- if .Params.author -}}
                <span class="article-author">{{ .Params.author }}</span>
                {{- end -}}
            </div>
            {{- if .Description -}}
            <p class="article-description">{{ .Description }}</p>
            {{- end -}}
        </header>
        
        <div class="article-body">
            {{ .Content }}
        </div>
        
        {{- if .Params.tags -}}
        <div class="article-tags">
            <h3 class="article-tags-title">標籤</h3>
            <div class="article-tags-list">
                {{- range .Params.tags -}}
                <a href="/tags/{{ . | urlize }}/" class="article-tag">{{ . }}</a>
                {{- end -}}
            </div>
        </div>
        {{- end -}}
    </article>
    
    <aside class="article-sidebar">
        {{- partial "sidebar-search.html" . -}}
        {{- partial "table-of-contents.html" . -}}
        {{- partial "related-articles.html" . -}}
        {{- partial "series-navigation.html" . -}}
    </aside>
</div>
{{- end -}}