<!-- 客戶見證區（Stripe 風格：連續流動滑動 + 邊緣淡出 + 懸停暫停） -->
<section class="testimonials section" aria-label="客戶見證">
  <div class="container">
    <div class="testimonials__title">
      <h2 class="h3">客戶見證</h2>
      <div class="page-header__line" aria-hidden="true"></div>
    </div>

    {{/* 讀取 data/testimonials.yml，若無則顯示預設 */}}
    {{ $items := .Site.Data.testimonials }}
    {{ if not $items }}
      {{ $items = slice
        (dict "name" "陳先生 / 創業者" "quote" "從公司設立到稅務申報都由 HorgosCPA 協助，流程清楚又快速。" "avatar" "/uploads/images/general/general-default.jpg")
        (dict "name" "林會計 / 中小企業主" "quote" "整理帳務與報表的效率很高，讓我們專注在業務拓展。" "avatar" "/uploads/images/general/general-default.jpg")
        (dict "name" "王小姐 / 人資" "quote" "薪資與稅務問題回覆專業且即時，是值得信賴的夥伴。" "avatar" "/uploads/images/general/general-default.jpg")
        (dict "name" "楊經理 / 製造業" "quote" "報表即時且準確，對經營決策很有幫助。" "avatar" "/uploads/images/general/general-default.jpg")
        (dict "name" "蔡老闆 / 餐飲" "quote" "節稅建議很實用，幫公司省下一大筆成本。" "avatar" "/uploads/images/general/general-default.jpg")
      }}
    {{ end }}

    <div class="tn-infinite" data-speed="0.5">
      <div class="tn-infinite__fade tn-infinite__fade--left" aria-hidden="true"></div>
      <div class="tn-infinite__viewport">
        <div class="tn-infinite__track">
          {{ range $items }}
          <figure class="testimonial tn-infinite__slide">
            <div class="testimonial__media">
              <img class="testimonial__avatar" src="{{ .avatar | default "/uploads/images/general/general-default.jpg" }}" alt="{{ .name }}" loading="lazy" decoding="async" width="128" height="128" />
            </div>
            <figcaption class="testimonial__content">
              <div class="testimonial__stars" aria-hidden="true">
                <i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i>
              </div>
              <blockquote class="testimonial__quote">{{ .quote }}</blockquote>
              <div class="testimonial__author">{{ .name }}</div>
            </figcaption>
          </figure>
          {{ end }}
        </div>
      </div>
      <div class="tn-infinite__fade tn-infinite__fade--right" aria-hidden="true"></div>
    </div>

  </div>
  {{ $tnCarousel := resources.Get "js/components/testimonials-carousel.js" | resources.Minify | resources.Fingerprint }}
  <script type="module" src="{{ $tnCarousel.RelPermalink }}" defer></script>
</section>

