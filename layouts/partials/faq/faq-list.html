<!-- FAQ列表頁 -->
<div class="faq-list">
    <!-- 分類篩選 -->
    <div class="category-nav card-style">
        <div class="category-nav__links">
            <a href="/faq/" class="category-nav__link {{ if eq .RelPermalink "/faq/" }}active{{ end }}">
                <i class="fas fa-question-circle"></i>
                <span>全部問題</span>
            </a>
            <a href="/faq/startup/" class="category-nav__link {{ if eq .RelPermalink "/faq/startup/" }}active{{ end }}">
                <i class="fas fa-rocket"></i>
                <span>創業問題</span>
            </a>
            <a href="/faq/tax/" class="category-nav__link {{ if eq .RelPermalink "/faq/tax/" }}active{{ end }}">
                <i class="fas fa-file-invoice-dollar"></i>
                <span>稅務問題</span>
            </a>
            <a href="/faq/accounting/" class="category-nav__link {{ if eq .RelPermalink "/faq/accounting/" }}active{{ end }}">
                <i class="fas fa-calculator"></i>
                <span>記帳問題</span>
            </a>
            <a href="/faq/others/" class="category-nav__link {{ if eq .RelPermalink "/faq/others/" }}active{{ end }}">
                <i class="fas fa-ellipsis-h"></i>
                <span>其他問題</span>
            </a>
        </div>
    </div>
    
    <!-- FAQ列表 -->
    <div class="faq-list__grid">
        {{ $paginator := .Paginate (where .Pages "Type" "faq") 10 }}
        {{ range $paginator.Pages }}
        <a href="{{ .RelPermalink }}" class="card-style card-clickable">
            <div class="faq-card__content">
                <h2 class="faq-title">{{ .Title }}</h2>
                <div class="faq-meta">
                    <span class="faq-meta__item"><i class="fas fa-calendar-alt"></i> {{ .Date.Format "2006-01-02" }}</span>
                    {{ with .Params.category }}
                    <span class="faq-meta__item"><i class="fas fa-folder"></i> {{ . }}</span>
                    {{ end }}
                    {{ with .Params.series }}
                    <span class="faq-meta__item"><i class="fas fa-bookmark"></i> {{ . }}</span>
                    {{ end }}
                </div>
                <p class="faq-summary">{{ .Summary | truncate 100 }}</p>
            </div>
        </a>
        {{ end }}
    </div>
    
    <!-- 分頁導航 -->
    {{ if gt .Paginator.TotalPages 1 }}
    <nav class="pagination" role="navigation" aria-label="分頁導航">
        <div class="pagination__info">
            第 {{ .Paginator.PageNumber }} / {{ .Paginator.TotalPages }} 頁，共 {{ .Paginator.TotalNumberOfElements }} 個問題
        </div>
        <div class="pagination__controls">
            {{ if .Paginator.HasPrev }}
                <a href="{{ .Paginator.Prev.URL }}" class="pagination__link pagination__link--prev" aria-label="上一頁">
                    <i class="fas fa-chevron-left"></i>
                    上一頁
                </a>
            {{ end }}
            
            {{ range .Paginator.Pagers }}
                {{ if eq . $.Paginator }}
                    <span class="pagination__link pagination__link--current" aria-current="page">{{ .PageNumber }}</span>
                {{ else }}
                    <a href="{{ .URL }}" class="pagination__link">{{ .PageNumber }}</a>
                {{ end }}
            {{ end }}
            
            {{ if .Paginator.HasNext }}
                <a href="{{ .Paginator.Next.URL }}" class="pagination__link pagination__link--next" aria-label="下一頁">
                    下一頁
                    <i class="fas fa-chevron-right"></i>
                </a>
            {{ end }}
        </div>
    </nav>
    {{ end }}
</div>