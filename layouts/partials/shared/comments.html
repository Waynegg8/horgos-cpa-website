<section class="comments-section" aria-label="留言討論"
  data-page-id="{{ .File.UniqueID }}" data-page-url="{{ .Permalink }}">
  <div class="comments-header">
    <h3 class="comments-title"><i class="fas fa-comments"></i> 留言討論</h3>
    <p class="comments-sub">歡迎就本文提出想法與問題，理性交流。</p>
  </div>

  <div id="comments-list" class="comments-list" aria-live="polite"></div>

  <form id="comment-form" class="comment-form" novalidate>
    <div class="form-row">
      <div class="form-field">
        <label for="nickname" class="form-label">暱稱 <span class="required">*</span></label>
        <input type="text" id="nickname" name="nickname" placeholder="請輸入暱稱" required>
      </div>
      <div class="form-field">
        <label for="lineId" class="form-label">LINE ID <span class="required">*</span></label>
        <input type="text" id="lineId" name="lineId" placeholder="僅供驗證，不公開" required>
        <span class="form-help">僅作後台驗證使用，不會公開顯示。</span>
      </div>
    </div>
    <div class="form-field">
      <label for="content" class="form-label">留言內容</label>
      <textarea id="content" name="content" rows="4" placeholder="請輸入留言內容…"></textarea>
    </div>
    <input type="hidden" id="parentId" name="parentId" value="">
    <input type="hidden" id="recaptchaToken" name="recaptchaToken" value="">
    <div class="form-actions">
      <button type="submit" class="btn btn-primary comment-submit-btn"><i class="fas fa-paper-plane"></i> 發佈留言</button>
      <button type="button" id="cancel-reply" class="btn btn-secondary" hidden>取消回覆</button>
    </div>
    <div id="comment-status" class="form-status" role="status" aria-live="polite"></div>
  </form>

  {{ $commentsScript := resources.Get "js/components/comments.js" | resources.Minify | resources.Fingerprint }}
  <script type="module" src="{{ $commentsScript.RelPermalink }}" defer></script>
</section>

