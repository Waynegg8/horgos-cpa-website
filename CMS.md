# Netlify CMS 使用指南

本專案內建 [Netlify CMS](https://www.netlifycms.org/) 以方便網站管理者透過瀏覽器新增、編輯或刪除內容。CMS 的介面位於 `/admin`，部署後可以透過 `https://你的網域/admin/` 存取。

## 1. 登入與設定

1. 首次進入 `/admin` 會看到登入畫面。Netlify CMS 使用 **Git Gateway** 驗證，需要在部署平台（例如 Netlify 或 Cloudflare）啟用 Identity 功能。
2. 開啟 **Netlify Identity** 或等效功能，允許使用 GitHub 帳號登入。第一次登入需要站長邀請或啟用自註冊。
3. 登入後即可使用後台編輯內容。

## 2. 內容類型

CMS 配置檔位於 `static/admin/config.yml`，定義了以下集合：

| 集合名稱   | 功能                     |
|------------|--------------------------|
| **articles**  | 知識文章：可設定標題、日期、描述、分類、系列、標籤、特色圖片及內容。|
| **faq**        | 常見問題：輸入問題與答案，可分類與標籤。|
| **videos**     | 影音專區：包含 YouTube ID、縮圖與文字內容。|
| **downloads**  | 下載專區：可上傳檔案並填寫檔案大小與描述。|
| **services**   | 服務項目：管理各種服務的標題、描述、FontAwesome 圖示、排序與內容。|
| **pages**      | 單獨頁面：目前包括「關於我們」與「聯絡我們」。|
| **settings**   | 網站設定：可修改 `config.toml` 中的標題、描述與 GA 追蹤 ID。|

## 3. 新增與編輯內容

1. 在 CMS 主畫面點選左側的集合名稱（例如 **知識文章**）。
2. 點擊 **New** 按鈕新增新條目；或點擊列表中的現有條目進行編輯。
3. 填寫或更新各欄位：
   - **標題/日期/描述**：基本資訊。
   - **分類/系列/標籤**：可輸入多個值，用逗號分隔。分類與系列會影響列表過濾。
   - **縮圖/特色圖片**：點選 `Upload` 上傳圖片。檔案會存放在 `static/uploads`。
   - **檔案（下載專區）**：上傳需要提供下載的檔案，可填寫檔案大小資訊。
   - **內容**：使用 Markdown 撰寫，支援標準 Markdown 語法與內嵌 HTML。
4. 完成後點擊 **Publish** 發佈。CMS 會將修改以 Git commit 方式推送至主要分支。

## 4. 管理網站設定

在 **settings** 集合中，你可以修改 `config.toml` 部分內容，例如：

* **網站標題** (`title`)
* **網站描述** (`params.description`)
* **GA 追蹤 ID** (`params.ga_id`)

修改設定後需重新部署網站才會生效。

## 5. 常見問題

* **圖片上傳在哪裡？** CMS 將圖片儲存於 `static/uploads` 資料夾，Git 版本控制會追蹤這些檔案。
* **草稿如何預覽？** 勾選 **Draft** 即可暫存草稿，需啟用 `hugo server -D` 才能在本地預覽草稿。
* **無法登入 CMS？** 確認已在部署平台啟用身份驗證，並將使用者加入授權名單。若使用 Git Gateway，請確保 token 有權寫入主分支。